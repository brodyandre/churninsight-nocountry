# Re-importa o .env para o contexto de teste
spring.config.import=optional:file:./.env[.properties]

# Configura a conexão usando as mesmas variáveis
spring.datasource.url=jdbc:postgresql://${DATABASE_HOST}:${DATABASE_PORT}/${DATABASE_NAME}
spring.datasource.username=${DATABASE_USER}
spring.datasource.password=${DATABASE_PASSWORD}

ds.service.url=${DS_SERVICE_URL:http://localhost:8000}

# IMPORTANTE: Impede o Spring de procurar um banco H2/em memória
spring.test.database.replace=none

# Garante que o Hibernate não apague seu banco real por acidente
spring.jpa.hibernate.ddl-auto=validate
spring.flyway.enabled=true